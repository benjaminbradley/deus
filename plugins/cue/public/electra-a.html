<div id="voting"></div>
<script type="text/javascript" src="/plugin/cue/js/stages.js">
</script>
<script type="text/javascript" src="/plugin/cue/js/ouroboros.js">
</script>
<script type="text/javascript" src="/plugin/cue/electra/electra-a.js">
</script>
<script>
  var cues = ['electra-a1','electra-a1'];

  function render() {
    var canvas = document.getElementById("cue-canvas");
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
    var stage = new createjs.Stage("cue-canvas");
    stage.autoClear = true;
    var ouroborus = new deus.ouroboros.Ouroboros(cues); 
    var elements = [
      new deus.stage.DualStage(),
      ouroborus,
      new deus.one.Rock(ouroborus),
      new deus.one.Flower(ouroborus)
    ];
    var i;
    for(i = 0; i < elements.length; i++) {
      elements[i].add(stage);  
    }
    
    
    createjs.Ticker.addEventListener("tick", handleTick);
    function handleTick(event) {
      for(i = 0; i < elements.length; i++) {
        elements[i].draw(stage);  
      }
      stage.update();
    }    
  }
  $.get("/e/electra-a", function(response) {
    $('#voting').html(response);
    render();
  });
</script>
