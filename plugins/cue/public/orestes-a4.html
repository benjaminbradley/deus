<div id="voting"></div>
<script type="text/javascript" src="/plugin/cue/js/stages.js">
</script>
<script type="text/javascript" src="/plugin/cue/js/ouroboros.js">
</script>
<script type="text/javascript" src="/plugin/cue/orestes/orestes.js">
</script>
<script>
  var cues = ['orestes-a4i','orestes-a4ii', 'orestes-a4iii'];

  function render() {
    var canvas = document.getElementById("cue-canvas");
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
    var stage = new createjs.Stage("cue-canvas");
    stage.autoClear = true;
    var ouroborus = new deus.ouroboros.Ouroboros(cues); 
    var elements = [
      new deus.stage.QuadStage(),
      ouroborus,
      new deus.one.Dagger(ouroborus),
      new deus.one.Medal(ouroborus),
      new deus.one.Shroud(ouroborus)
    ];
    var i;
    for(i = 0; i < elements.length; i++) {
      elements[i].add(stage);  
    }
    
    
    createjs.Ticker.addEventListener("tick", handleTick);
    function handleTick(event) {
      for(i = 0; i < elements.length; i++) {
        elements[i].draw(stage);  
      }
      stage.update();
    }    
  }
  $.get("/e/orestes-a4", function(response) {
    $('#voting').html(response);
    render();
  });
</script>
