{
    "_id": "_design/event", 
    "_rev": "19-68ab2b05f4413c4d1ca9592c2465cf96",
    "views": {
        "all": {
            "map": "function (doc) { if (doc.type == 'event'){ emit([doc._id], doc); } else if (doc.type == 'voter') { emit([doc._id], doc); } else if (doc.type == 'vote') { emit([doc.event_id, doc.vote, doc._id], doc); } }", 
            "reduce": "_count"
        }, 
        "byPhonenumber": {
            "map": "function (doc) { if (doc.type == 'event') { emit(doc.phonenumber, {_id: doc._id, state: doc.state}) } } "
        }, 
        "voterByPhonenumber": {
            "map": "function (doc) { if (doc.type == 'voter') { emit(doc.phonenumber, {_id: doc._id, state: doc.state}) } } "
        }, 
        "list": {
            "map": "function (doc) { if (doc.type == 'event'){ emit([doc._id], doc); } }"
        }, 
        "tree": {
            "map": "function (doc) { if (doc.type == 'tree'){ emit([doc._id], doc); } }"
        }, 
        "voters": {
            "map": "function (doc) { if (doc.type == 'voter') { emit([doc._id], doc); }}"
        }, 
        "shows": {
            "map": "function (doc) { if (doc.type == 'show') { emit([doc._id], doc); }}"
        },       
        "currentShow": {
            "map": "function (doc) { if (doc.type == 'show' && doc.current == true) { emit(doc.current, {_id: doc._id, state: doc.state}) } } "
        },       
        "votes": {
            "map": "function (doc) { if (doc.type == 'vote') { emit([doc.event_id, doc._id], doc.event_id); }}"
        }, 
        "votesByShowEvent": {
            "map": "function (doc) { if (doc.type == 'vote') { emit([doc.show_id, doc.event_id], doc.vote); }}"
        }, 
        "votingEvents": {
            "map": "function (doc) { if (doc.type == 'votingEvent') { emit([doc.event_id, doc._id], doc); }}"
        }
    }
}
